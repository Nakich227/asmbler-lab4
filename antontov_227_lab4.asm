data segment
S dw ? ; ?????????? ??? ???????? ?????????? S (??????? ?????, 16 ???)
N dw ? ; ?????????? ??? ???????? ?????????? ???????? N (??????? ?????, 16 ???)
perenos db 13,10,"$" ; ??????? ???????? ?????? (CR ? LF) ? ?????? ????? ?????? ??? DOS
vvod_N db 13,10,"Vvedite N=$" ; ????????? ??????????? ??? ????? N, ?????????????? ???????? ????? ??????
vivod_S db "S=$" ; ????????? ??? ?????? ???????? S
ends
stack segment
dw 128 dup(0) ; ??????????? ????? ???????? 128 ????, ???????????????? ??????
ends
code segment
start:
; ????????? ?????????? ?????????:
mov ax, data ; ???????? ???????? ?????? ? AX
mov ds, ax ; ????????? ???????? ??????
mov es, ax ; ????????? ??????????????? ????????
xor ax, ax ; ????????? ???????? AX
mov dx, offset vvod_N ; ???????? ?????? ?????? ??????????? ??? ????? N ? DX
mov ah, 9 ; ????????? ??????? DOS ??? ?????? ??????
int 21h ; ????? DOS ??? ?????? ??????
mov ah, 1 ; ????????? ??????? DOS ??? ????? ??????? ? ??????????
int 21h ; ????? DOS
sub al, 30h ; ?????????????? ASCII ???? ????? ? ???????? ????????
cbw ; ?????????? ????? AL ? AX (AX=AL ??? ???????? ????? ? ???? ??? ????????)
mov N, ax ; ?????????? ?????????? ???????? N ? ?????????? N
; ?????????? ???????????? ?????????
mov cx, N ; ????????? ???????? CX ????????? N (??????? ?????)
mov ax, 0 ; ????????? ???????? AX (????? S)
mov bx, 5 ; ????????? ?????????? ???????? BX = 2 (B)
@repeat: ; ?????? ?????
add ax, bx ; ?????????? BX ? AX (S = S + B)

mul bx ; ????? BX ????? ?? 1 ??? (????????? B ?? 2)
loop @repeat ; ????????? CX ? ??????? ? ????? @repeat, ???? CX != 0
mov S, ax ; ?????????? ?????????? ?????????? S ? ?????????? S
mov dx, offset perenos; ???????? ?????? ?????? ???????? ?????? ? DX
mov ah, 9 ; ????????? ??????? DOS ??? ?????? ??????
int 21h ; ????? DOS ??? ?????? ??????
mov dx, offset vivod_S; ???????? ?????? ?????? "S=$" ? DX
mov ah, 9 ; ????????? ??????? DOS ??? ?????? ??????
int 21h ; ????? DOS ??? ?????? ??????
mov ax, S ; ???????? ???????? S ? AX
Lower: ;????? ????????????? ????? ?? ?????
push -1 ; ????? ?????? ?????? ?????, ???????? ?????? ? ????
mov cx, 10 ; ????????? ???????? 10 ? CX
L1:
mov dx, 0 ; ????????? DX (??????? ????? ???????? ??? DIV)
div cx ; ??????? AX ?? 10, ????????? ? AX, ??????? ? DX
push dx ; ????????? ??????? ? ???? (????? ?????)
cmp ax, 0 ; ????????, ????? ?? ????????? ??????? 0
jne L1 ; ??????? ? L1, ???? ????????? ?? 0
mov ah, 2 ; ????????? ??????? DOS ??? ?????? ???????
L2:
pop dx ; ?????????? ????? ?? ?????
cmp dx, -1 ; ????????, ???????? ?? ???????
je sled8 ; ??????? ? sled8, ???? ???????? ???????
add dl, 30h ; ?????????????? ????? ? ASCII ???
int 21h ; ????? DOS ??? ?????? ???????
jmp L2 ; ??????? ? L2 ??? ????????? ?????
sled8:
mov dx, offset perenos; ???????? ?????? ?????? ???????? ?????? ? DX
mov ah, 9 ; ????????? ??????? DOS ??? ?????? ??????
int 21h ; ????? DOS ??? ?????? ??????
mov ah, 1 ; ????????? ??????? DOS ??? ???????? ??????? ???????
int 21h ; ????? DOS ??? ???????? ??????? ???????
mov ax, 4c00h ; ????????? ??????? DOS ??? ?????? ?? ?????????
int 21h ; ????? DOS ??? ?????????? ?????????
ends
end start